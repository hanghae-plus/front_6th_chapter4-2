# SearchDialog ìŠ¤ì¼€ì¤„ íŒŒì‹± ìºì‹œ ìµœì í™” ë³´ê³ ì„œ

## ë¬´ì—‡ì„ ë°”ê¿¨ë‚˜

- ëŒ€ìƒ: `src/SearchDialog.tsx`
- ë³€ê²½: ë™ì¼ ê°•ì˜ ìŠ¤ì¼€ì¤„ íŒŒì‹± ì¤‘ë³µ ì œê±° â†’ ê°•ì˜ë³„ ìµœì´ˆ 1íšŒë§Œ íŒŒì‹±ìœ¼ë¡œ ìˆ˜ì •
  - `useScheduleCache()` ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ìºì‹œ ë¡œì§ ë¶„ë¦¬
  - `useRef<Map>` ê¸°ë°˜ ê°•ì˜ë³„ íŒŒì‹± ê²°ê³¼ ìºì‹œ ë„ì…
  - ìš”ì¼Â·ì‹œê°„ í•„í„°ë§ì—ì„œ `parseSchedule()` ì§ì ‘ í˜¸ì¶œ â†’ ìºì‹œ í•¨ìˆ˜ ì‚¬ìš©

## ì™œ ë°”ê¿¨ë‚˜

- ê° ê°•ì˜(`lecture.id`)ì— ëŒ€í•´ ìš”ì¼ í•„í„°ì™€ ì‹œê°„ í•„í„°ì—ì„œ ì¤‘ë³µìœ¼ë¡œ `parseSchedule()` ì‹¤í–‰í•˜ëŠ” ë¬¸ì œ í•´ê²°
- ì •ê·œì‹ ì²˜ë¦¬ê°€ í¬í•¨ëœ `parseSchedule()`ì„ ê°•ì˜ë³„ ìµœì´ˆ 1íšŒë¡œ ì œí•œí•˜ì—¬ CPU ì‚¬ìš©ëŸ‰ ê°ì†Œ
- ì‚¬ìš©ì í•„í„° ë³€ê²½ ì‹œ ë°˜ì‘ì„± ê°œì„ (íŠ¹íˆ íƒ€ì´í•‘Â·ì²´í¬ë°•ìŠ¤ ì¡°ì‘)

## ê²°ê³¼(ì½˜ì†” ë¡œê·¸ ê¸°ì¤€)

- Before: ê° ê°•ì˜ë§ˆë‹¤ ìš”ì¼ í•„í„°ë§ê³¼ ì‹œê°„ í•„í„°ë§ì—ì„œ ê°ê° `parseSchedule` ì‹¤í–‰
- After: ê° ê°•ì˜ë§ˆë‹¤ ìµœì´ˆ 1íšŒë§Œ `parseSchedule` ì‹¤í–‰, ì´í›„ ìºì‹œì—ì„œ ì¬ì‚¬ìš©
- ê°œì„ í­: ê° ê°•ì˜ë³„ ì¤‘ë³µ íŒŒì‹± 1íšŒ ì œê±°ë¡œ í•„í„°ë§ ì„±ëŠ¥ í–¥ìƒ

ì°¸ê³  ë¡œê·¸ ì˜ˆì‹œ

- Before: (ë¡œê·¸ ì—†ìŒ, ì¤‘ë³µ íŒŒì‹± ë°œìƒ)
- After: `ğŸ”„ parseSchedule ì‹¤í–‰: CS101`, `âœ… ìºì‹œ ì‚¬ìš©: CS101`
- ë‘ ë²ˆì§¸ í•„í„°ë§ë¶€í„°ëŠ” ìºì‹œ íˆíŠ¸ë¡œ ì¦‰ì‹œ ë°˜í™˜

## ì¥ì 

- **CPU íš¨ìœ¨ì„±**: ê° ê°•ì˜ë³„ ì¤‘ë³µ ì •ê·œì‹ íŒŒì‹± ì œê±°
- **ì‚¬ìš©ì ê²½í—˜**: í•„í„° ë³€ê²½ ì‹œ ì§€ì—° ê°ì†Œ, íƒ€ì´í•‘ ë°˜ì‘ì„± í–¥ìƒ
- **í™•ì¥ì„±**: ë°ì´í„° ì¦ê°€ ì‹œ ì„±ëŠ¥ ì €í•˜ ì™„í™”
- **ì¬ì‚¬ìš©ì„±**: ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ë¶„ë¦¬í•˜ì—¬ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì—ì„œë„ í™œìš© ê°€ëŠ¥

## ë‹¨ì 

- **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰**: ê°•ì˜ ìˆ˜ë§Œí¼ íŒŒì‹± ê²°ê³¼ë¥¼ ë©”ëª¨ë¦¬ì— ì €ì¥
- **ì´ˆê¸° ë¶€ë‹´**: ì²« í•„í„°ë§ ì‹œ ì „ì²´ ê°•ì˜ íŒŒì‹± í•„ìš”
- **ë³µì¡ì„±**: ìºì‹œ ë¡œì§ ì¶”ê°€ë¡œ ì½”ë“œ ë³µì¡ë„ ì¦ê°€

## ì¬í˜„ ë°©ë²•

1. ì•± ì‹¤í–‰: `pnpm dev`
2. ìˆ˜ì—… ê²€ìƒ‰ ëª¨ë‹¬ ì—´ê¸°
3. ì½˜ì†”ì—ì„œ `parseSchedule` ì‹¤í–‰ ë¡œê·¸ í™•ì¸
4. ìš”ì¼/ì‹œê°„ í•„í„° ë³€ê²½í•˜ë©° ìºì‹œ ì‚¬ìš© ë¡œê·¸ ê´€ì°°
   - ì²« ë²ˆì§¸: `ğŸ”„ parseSchedule ì‹¤í–‰: [ê°•ì˜ID]`
   - ë‘ ë²ˆì§¸: `âœ… ìºì‹œ ì‚¬ìš©: [ê°•ì˜ID]`

## ì½”ë“œ ìŠ¤ë‹ˆí«

```ts
// ìŠ¤ì¼€ì¤„ íŒŒì‹± ìºì‹œ ì»¤ìŠ¤í…€ í›…
const useScheduleCache = () => {
  const scheduleCache = useRef(
    new Map<string, ReturnType<typeof parseSchedule>>()
  );

  const getParsedSchedule = (lecture: Lecture) => {
    if (!lecture.schedule) return [];

    // ìºì‹œì— ìˆìœ¼ë©´ ê·¸ëŒ€ë¡œ ì‚¬ìš©
    if (scheduleCache.current.has(lecture.id)) {
      console.log(`âœ… ìºì‹œ ì‚¬ìš©: ${lecture.id}`);
      return scheduleCache.current.get(lecture.id)!;
    }

    // ì—†ìœ¼ë©´ íŒŒì‹±í•˜ê³  ìºì‹œì— ì €ì¥
    console.log(`ğŸ”„ parseSchedule ì‹¤í–‰: ${lecture.id}`);
    const parsed = parseSchedule(lecture.schedule);
    scheduleCache.current.set(lecture.id, parsed);
    return parsed;
  };

  return getParsedSchedule;
};

// SearchDialog ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©
const getParsedSchedule = useScheduleCache();
```

## ê¸°ìˆ ì  ì„ íƒ ì´ìœ 

### Map ìë£Œêµ¬ì¡° ì„ íƒ

- **ì„±ëŠ¥**: O(1) ì¡°íšŒ/ì €ì¥/ì‚­ì œ ë³´ì¥
- **ì•ˆì „ì„±**: í”„ë¡œí† íƒ€ì… ì˜¤ì—¼ ë°©ì§€ (Object ëŒ€ë¹„)
- **íƒ€ì…**: TypeScriptì™€ ì™„ë²½ í˜¸í™˜
- **ë©”ëª¨ë¦¬**: íš¨ìœ¨ì ì¸ ë©”ëª¨ë¦¬ ê´€ë¦¬
- **í¸ì˜ì„±**: ì§ê´€ì ì¸ API (`has`, `get`, `set`, `delete`)

### useRef ì„ íƒ

- **ë Œë”ë§ ê°„ ë°ì´í„° ìœ ì§€**: ì»´í¬ë„ŒíŠ¸ ë¦¬ë Œë”ë§ì—ë„ ìºì‹œ ìœ ì§€
- **ì„±ëŠ¥**: useState ëŒ€ë¹„ ë¦¬ë Œë”ë§ íŠ¸ë¦¬ê±° ì—†ìŒ
- **ë©”ëª¨ë¦¬**: ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ ìë™ ì •ë¦¬

## ì ìš© ê¶Œì¥ ì¡°ê±´

- **ë°ì´í„° ê·œëª¨**: ìˆ˜ë°±~ìˆ˜ì²œ ê±´ ê°•ì˜ (ê³¼ë„í•˜ê²Œ ë§ì§€ ì•Šì€ ê²½ìš°)
- **ì‚¬ìš© íŒ¨í„´**: í•„í„° ì¡°ê±´ì„ ìì£¼ ë³€ê²½í•˜ëŠ” ê²½ìš°
- **ë©”ëª¨ë¦¬ í™˜ê²½**: ì¶©ë¶„í•œ ë©”ëª¨ë¦¬ê°€ í™•ë³´ëœ í™˜ê²½
- **íŒŒì‹± ë³µì¡ë„**: ì •ê·œì‹ ë“± ë¬´ê±°ìš´ ì—°ì‚°ì´ í¬í•¨ëœ ê²½ìš°
